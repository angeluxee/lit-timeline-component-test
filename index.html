<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Timeline Obst茅trico - Prototipo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 2rem;
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
    }

    h1 {
      color: white;
      text-align: center;
      margin-bottom: 2rem;
      font-size: 2.5rem;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .subtitle {
      color: rgba(255, 255, 255, 0.9);
      text-align: center;
      margin-bottom: 2rem;
      font-size: 1.125rem;
    }
  </style>

  <!-- Importar Lit desde CDN para desarrollo -->
  <script type="module">
    // Nota: En producci贸n, compila TypeScript y usa un bundler
    import { LitElement, html, css } from 'https://cdn.jsdelivr.net/gh/lit/dist@3/core/lit-core.min.js';

    console.log('Timeline Obst茅trico cargado. Implementar componente con TypeScript + bundler para producci贸n.');
  </script>
</head>
<body>
  <div class="container">
    <h1> Timeline Obst茅trico Cl铆nico</h1>
    <p class="subtitle">Prototipo de visualizaci贸n de eventos durante el embarazo</p>

    <!-- Componente de Timeline Obst茅trico -->
    <obstetric-timeline id="timeline"></obstetric-timeline>
  </div>

  <script type="module">
    // Datos de ejemplo para el timeline
    const generateSampleEvents = () => {
      const startDate = new Date('2025-02-12');

      const calculateDate = (weeks) => {
        const date = new Date(startDate);
        date.setDate(date.getDate() + (weeks * 7));
        return date;
      };

      return [
        // Visitas
        {
          id: 'v1',
          type: 'visita',
          date: calculateDate(4),
          week: 4,
          title: 'Primera visita prenatal',
          description: 'Confirmaci贸n de embarazo, anal铆tica b谩sica y ultrasonido inicial.'
        },
        {
          id: 'v2',
          type: 'visita',
          date: calculateDate(8),
          week: 8,
          title: 'Control prenatal',
          description: 'Seguimiento del desarrollo fetal y mediciones ecogr谩ficas.'
        },
        {
          id: 'v3',
          type: 'visita',
          date: calculateDate(12),
          week: 12,
          title: 'Ecograf铆a del primer trimestre',
          description: 'Evaluaci贸n del crecimiento fetal y marcadores gen茅ticos.'
        },
        {
          id: 'v4',
          type: 'visita',
          date: calculateDate(20),
          week: 20,
          title: 'Ecograf铆a morfol贸gica',
          description: 'Revisi贸n detallada de 贸rganos y estructuras fetales.'
        },
        {
          id: 'v5',
          type: 'visita',
          date: calculateDate(28),
          week: 28,
          title: 'Control tercer trimestre',
          description: 'Monitorizaci贸n del bienestar fetal y preparaci贸n al parto.'
        },
        {
          id: 'v6',
          type: 'visita',
          date: calculateDate(36),
          week: 36,
          title: 'Visita preparto',
          description: 'Evaluaci贸n de la presentaci贸n fetal y plan de parto.'
        },

        // Pruebas
        {
          id: 'p1',
          type: 'prueba',
          date: calculateDate(6),
          week: 6,
          title: 'Anal铆tica completa',
          description: 'Hemograma, bioqu铆mica, grupo sangu铆neo y serolog铆as.'
        },
        {
          id: 'p2',
          type: 'prueba',
          date: calculateDate(12),
          week: 12,
          title: 'Cribado combinado',
          description: 'Test de cribado de cromosomopat铆as del primer trimestre.'
        },
        {
          id: 'p3',
          type: 'prueba',
          date: calculateDate(24),
          week: 24,
          title: 'Test de O\'Sullivan',
          description: 'Prueba de detecci贸n de diabetes gestacional.'
        },
        {
          id: 'p4',
          type: 'prueba',
          date: calculateDate(35),
          week: 35,
          title: 'Cultivo estreptococo',
          description: 'Detecci贸n de estreptococo grupo B vagino-rectal.'
        },

        // Urgencias (ejemplo: alguna complicaci贸n menor)
        {
          id: 'u1',
          type: 'urgencia',
          date: calculateDate(16),
          week: 16,
          title: 'Consulta urgente',
          description: 'Acudi贸 por dolor abdominal leve, descartada patolog铆a.'
        },

        // Ingresos
        {
          id: 'i1',
          type: 'ingreso',
          date: calculateDate(32),
          week: 32,
          title: 'Ingreso por amenaza de parto prematuro',
          description: 'Ingreso de 48h para maduraci贸n pulmonar y reposo.'
        },

        // Eventos agrupados en semana 12 (para probar staggering)
        {
          id: 'e1',
          type: 'prueba',
          date: calculateDate(12),
          week: 12,
          title: 'NIPT (ADN fetal)',
          description: 'Test prenatal no invasivo de ADN fetal en sangre materna.'
        },

        // Eventos agrupados en semana 20 (para probar badge +n)
        {
          id: 'e2',
          type: 'prueba',
          date: calculateDate(20),
          week: 20,
          title: 'Ecocardiograf铆a fetal',
          description: 'Estudio especializado del coraz贸n fetal.'
        },
        {
          id: 'e3',
          type: 'visita',
          date: calculateDate(20),
          week: 20,
          title: 'Consulta nutrici贸n',
          description: 'Valoraci贸n nutricional y recomendaciones diet茅ticas.'
        },
        {
          id: 'e4',
          type: 'prueba',
          date: calculateDate(20),
          week: 20,
          title: 'Anal铆tica segundo trimestre',
          description: 'Control de hemoglobina y funci贸n renal.'
        },

        // Parto previsto
        {
          id: 'parto1',
          type: 'parto',
          date: calculateDate(40),
          week: 40,
          title: 'Parto previsto',
          description: 'Fecha estimada de parto seg煤n fecha de 煤ltima regla.'
        },
      ];
    };

    // Configurar el componente cuando est茅 disponible
    window.addEventListener('DOMContentLoaded', () => {
      const timeline = document.getElementById('timeline');

      if (timeline) {
        // Configurar propiedades
        timeline.startDate = new Date('2025-02-12');
        timeline.expectedDeliveryDate = new Date('2025-11-20');
        timeline.currentWeek = 16;
        timeline.events = generateSampleEvents();

        console.log('Timeline configurado con eventos de muestra');
        console.log('Eventos totales:', timeline.events.length);
      }
    });
  </script>
</body>
</html>
